{"version":3,"sources":["js/main.js"],"names":["loginForm","document","querySelector","forgetForm","signupForm","mode","style","display","window","onload","singup","pristine","Pristine","addEventListener","e","preventDefault","valid","validate","data","Name","$getId","value","Email","Company","Address","Telephone","Password","r","XMLHttpRequest","open","setRequestHeader","onreadystatechange","readyState","res","JSON","parse","responseText","message","login","forget","signup","el","innerHTML","setTimeout","hide_msg","remove","error","send","stringify","login_form","login_pristine","user","localStorage","getItem","token","readCookie","console","log","location","href","createCookie","setItem","forget_form","forget_pristine","getQueryString","field","url","reg","RegExp","string","exec"],"mappings":"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","file":"main.fb6bbcaf.js","sourceRoot":"../assets","sourcesContent":["const loginForm = document.querySelector(\".login-form\");\nconst forgetForm = document.querySelector(\".forget-form\");\nconst signupForm = document.querySelector(\".signup-form\");\n\n//This is Duplication, bad practice\nif (mode === \"login\") {\n  loginForm.style.display = \"block\";\n  forgetForm.style.display = \"none\";\n  signupForm.style.display = \"none\";\n}\n\nif (mode === \"passwordforgot\") {\n  loginForm.style.display = \"none\";\n  forgetForm.style.display = \"block\";\n  signupForm.style.display = \"none\";\n}\n\n//This is Duplication, bad practice\nif (mode === \"signup\") {\n  loginForm.style.display = \"none\";\n  forgetForm.style.display = \"none\";\n  signupForm.style.display = \"block\";\n}\n\n/*const fog = $getId(\"users_login_form\");\nif (fog) {\n  fog.addEventListener(\"click\", function(elem) {\n    var login = document.querySelector(\".login-form\");\n    login.style.display = \"block\";\n    var forget = document.querySelector(\".forget-form\");\n    forget.style.display = \"none\";\n    var signup = document.querySelector(\".signup-form\");\n    signup.style.display = \"none\";\n  });\n}*/\n\n/**\n *@function user forget pasword\n */\n\n//This is Duplication, bad practice\n\n/**\n * on windlow load to run\n */\n\nwindow.onload = function() {\n  // A validator to check if the input value is within a specified range\n  // The global validator must be added before creating the pristine instance\n  /**\n   * user signup function\n   * @type {Element}\n   */\n  var singup = document.querySelector(\".signup-form\");\n\n  var pristine = new Pristine(singup);\n\n  singup.addEventListener(\"submit\", function(e) {\n    e.preventDefault();\n    var valid = pristine.validate();\n    if (valid == true) {\n      var data = {};\n      data.Name = $getId(\"Name\").value;\n      data.Email = $getId(\"Email\").value;\n      data.Company = $getId(\"Company\").value;\n      data.Address = $getId(\"Address\").value;\n      data.Telephone = $getId(\"Telephone\").value;\n      data.Password = $getId(\"Password\").value;\n      var r = new XMLHttpRequest();\n      r.open(\"POST\", \"http://localhost:5000/signup\", true);\n      r.setRequestHeader(\"Content-type\", \"application/json\");\n      r.onreadystatechange = function() {\n        // Only run if the request is complete\n        if (r.readyState !== 4) return;\n        var res = JSON.parse(r.responseText);\n\n        if (res.message) {\n          var login = document.querySelector(\".login-form\");\n          login.style.display = \"block\";\n          var forget = document.querySelector(\".forget-form\");\n          forget.style.display = \"none\";\n          var signup = document.querySelector(\".signup-form\");\n          signup.style.display = \"none\";\n          var el = document.querySelector(\".login-form .alert.alert-success\");\n          el.innerHTML +=\n            '<p class=\"msg\"><strong>Success!</strong>' + res.message + \"</p>\";\n          var message = document.querySelector(\n            \".login-form .alert.alert-success\"\n          );\n          message.style.display = \"block\";\n          setTimeout(function() {\n            var hide_msg = document.querySelector(\n              \".login-form .alert.alert-success\"\n            );\n            message.style.display = \"none\";\n            document\n              .querySelector(\".login-form .alert.alert-success .msg\")\n              .remove();\n          }, 5000);\n        } else {\n          var el = document.querySelector(\".signup-form .alert.alert-danger\");\n          el.innerHTML +=\n            '<p class=\"msg\"><strong>Sorry!</strong>' + res.error + \"</p>\";\n          var message = document.querySelector(\n            \".signup-form .alert.alert-danger\"\n          );\n          message.style.display = \"block\";\n          setTimeout(function() {\n            var hide_msg = document.querySelector(\n              \".signup-form .alert.alert-danger\"\n            );\n            message.style.display = \"none\";\n            document\n              .querySelector(\".signup-form .alert.alert-danger .msg\")\n              .remove();\n          }, 5000);\n        }\n      };\n      r.send(JSON.stringify(data));\n    }\n  });\n  /**\n   * user login function\n   * @type {Element}\n   */\n  var login_form = document.querySelector(\".login-form\");\n\n  var login_pristine = new Pristine(login_form);\n\n  login_form.addEventListener(\"submit\", function(e) {\n    e.preventDefault();\n    var valid = login_pristine.validate();\n    if (valid == true) {\n      var data = {};\n\n      data.Email = $getId(\"log_Email\").value;\n      data.Password = $getId(\"log_Password\").value;\n\n      var user = window.localStorage.getItem(\"weld_user\");\n      var token = readCookie(\"weld_token\");\n      if (token != null || user != null) {\n        console.log(\"here\");\n        window.location.href = \"http://localhost/vanilajs/dashboard.html\";\n      } else {\n        var r = new XMLHttpRequest();\n        r.open(\"POST\", \"http://localhost:5000/signin\", true);\n        r.setRequestHeader(\"Content-type\", \"application/json\");\n        r.onreadystatechange = function() {\n          // Only run if the request is complete\n          if (r.readyState !== 4) return;\n\n          var res = JSON.parse(r.responseText);\n          if (res.message == \"Login success\") {\n            createCookie(\"weld_token\", res.token, 30);\n            window.localStorage.setItem(\"weld_user\", JSON.stringify(res.user));\n            window.location.href = \"http://localhost/vanilajs/dashboard.html\";\n          } else {\n            var el = document.querySelector(\".login-form .alert.alert-danger\");\n            el.innerHTML +=\n              '<p class=\"msg\"><strong>Sorry!</strong>' + res.error + \"</p>\";\n            var message = document.querySelector(\n              \".login-form .alert.alert-danger\"\n            );\n            message.style.display = \"block\";\n            setTimeout(function() {\n              var hide_msg = document.querySelector(\n                \".login-form .alert.alert-danger\"\n              );\n              message.style.display = \"none\";\n              document\n                .querySelector(\".login-form .alert.alert-danger .msg\")\n                .remove();\n            }, 3000);\n          }\n        };\n        r.send(JSON.stringify(data));\n      }\n    }\n  });\n  var forget_form = document.querySelector(\".forget-form\");\n  var forget_pristine = new Pristine(forget_form);\n\n  forget_form.addEventListener(\"submit\", function(e) {\n    e.preventDefault();\n    var valid = forget_pristine.validate();\n    if (valid == true) {\n      var data = {};\n      data.Email = $getId(\"fog_Email\").value;\n      var user = window.localStorage.getItem(\"weld_user\");\n      var token = readCookie(\"weld_token\");\n      if (token != null || user != null) {\n        window.location.href = \"http://localhost/vanilajs/dashboard.html\";\n      } else {\n        var r = new XMLHttpRequest();\n        r.open(\"POST\", \"http://localhost:5000/forgot\", true);\n        r.setRequestHeader(\"Content-type\", \"application/json\");\n        r.onreadystatechange = function() {\n          // Only run if the request is complete\n          if (r.readyState !== 4) return;\n\n          // var res = JSON.parse(r.responseText)\n          var res = JSON.parse(r.responseText);\n          console.log(res);\n          if (res.message) {\n            var el = document.querySelector(\n              \".forget-form .alert.alert-success\"\n            );\n            el.innerHTML +=\n              '<p class=\"msg\"><strong>Success!</strong>' + res.message + \"</p>\";\n            var message = document.querySelector(\n              \".forget-form .alert.alert-success\"\n            );\n            message.style.display = \"block\";\n            setTimeout(function() {\n              var hide_msg = document.querySelector(\n                \".forget-form .alert.alert-success\"\n              );\n              message.style.display = \"none\";\n              document\n                .querySelector(\".forget-form .alert.alert-success .msg\")\n                .remove();\n            }, 3000);\n            setTimeout(function() {\n              window.location.href = \"http://localhost/vanilajs/main.html\";\n            }, 4000);\n          } else {\n            var el = document.querySelector(\".forget-form .alert.alert-danger\");\n            el.innerHTML += '<p class=\"msg\">' + res.error + \"</p>\";\n            var message = document.querySelector(\n              \".forget-form .alert.alert-danger\"\n            );\n            message.style.display = \"block\";\n            setTimeout(function() {\n              var hide_msg = document.querySelector(\n                \".forget-form .alert.alert-danger\"\n              );\n              message.style.display = \"none\";\n              document\n                .querySelector(\".forget-form .alert.alert-danger .msg\")\n                .remove();\n            }, 3000);\n          }\n        };\n        r.send(JSON.stringify(data));\n      }\n    }\n  });\n};\n/**\n * Get the value of a querystring\n * @param  {String} field The field to get the value of\n * @param  {String} url   The URL to get the value from (optional)\n * @return {String}       The field value\n */\nvar getQueryString = function(field, url) {\n  var href = url ? url : window.location.href;\n  var reg = new RegExp(\"[?&]\" + field + \"=([^&#]*)\", \"i\");\n  var string = reg.exec(href);\n  return string ? string[1] : null;\n};\n"]}